# –õ—å–≤—ñ–≤–æ–±–ª–µ–Ω–µ—Ä–≥–æ Telegram Bot üí°

–¢–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É –≥—Ä–∞—Ñ—ñ–∫—ñ–≤ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å –µ–ª–µ–∫—Ç—Ä–æ–µ–Ω–µ—Ä–≥—ñ—ó –≤—ñ–¥ –õ—å–≤—ñ–≤–æ–±–ª–µ–Ω–µ—Ä–≥–æ.

## –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

- üîç **–í–∏–±—ñ—Ä –∞–¥—Ä–µ—Å–∏** - –∑—Ä—É—á–Ω–∏–π Web App –¥–ª—è –ø–æ—à—É–∫—É –≤–∞—à–æ–≥–æ –±—É–¥–∏–Ω–∫—É
- üìä **–ì—Ä–∞—Ñ—ñ–∫–∏ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å** - –∞–∫—Ç—É–∞–ª—å–Ω—ñ –≥—Ä–∞—Ñ—ñ–∫–∏ –¥–ª—è –≤–∞—à–æ—ó —á–µ—Ä–≥–∏
- üîî **–°–ø–æ–≤—ñ—â–µ–Ω–Ω—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–∏ –∑–º—ñ–Ω—ñ –≥—Ä–∞—Ñ—ñ–∫—ñ–≤
- üìç **–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∞–¥—Ä–µ—Å–∏** - –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–≤–æ–¥–∏—Ç–∏ –∞–¥—Ä–µ—Å—É –∫–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
lvivoblenergobot/
‚îú‚îÄ‚îÄ bot/                    # Telegram –±–æ—Ç (Python)
‚îÇ   ‚îú‚îÄ‚îÄ main.py            # –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É
‚îÇ   ‚îú‚îÄ‚îÄ config.py          # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îÇ   ‚îú‚îÄ‚îÄ api_service.py     # –†–æ–±–æ—Ç–∞ –∑ API –õ—å–≤—ñ–≤–æ–±–ª–µ–Ω–µ—Ä–≥–æ
‚îÇ   ‚îú‚îÄ‚îÄ database.py        # SQLite –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
‚îÇ   ‚îú‚îÄ‚îÄ handlers.py        # –û–±—Ä–æ–±–Ω–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ notifications.py   # –°–µ—Ä–≤—ñ—Å —Å–ø–æ–≤—ñ—â–µ–Ω—å
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt   # Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îÇ   ‚îî‚îÄ‚îÄ .env.example       # –ü—Ä–∏–∫–ª–∞–¥ –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
‚îî‚îÄ‚îÄ webapp/                 # Telegram Web App
    ‚îú‚îÄ‚îÄ public/
    ‚îÇ   ‚îú‚îÄ‚îÄ index.html     # HTML —Å—Ç–æ—Ä—ñ–Ω–∫–∞
    ‚îÇ   ‚îú‚îÄ‚îÄ styles.css     # –°—Ç–∏–ª—ñ
    ‚îÇ   ‚îî‚îÄ‚îÄ app.js         # JavaScript –ª–æ–≥—ñ–∫–∞
    ‚îú‚îÄ‚îÄ firebase.json      # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è Firebase
    ‚îî‚îÄ‚îÄ .firebaserc        # Firebase –ø—Ä–æ–µ–∫—Ç
```

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –∑–∞–ø—É—Å–∫

### 1. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–æ—Ç–∞

```bash
cd bot

# –°—Ç–≤–æ—Ä—ñ—Ç—å –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ
python -m venv venv
source venv/bin/activate  # Linux/Mac
# –∞–±–æ
venv\Scripts\activate     # Windows

# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
pip install -r requirements.txt

# –°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª .env
cp .env.example .env
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ —Ñ–∞–π–ª `bot/.env`:

```env
# –û—Ç—Ä–∏–º–∞–π—Ç–µ —Ç–æ–∫–µ–Ω —É @BotFather
BOT_TOKEN=your_telegram_bot_token

# URL –≤–∞—à–æ–≥–æ Web App (–ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—é –Ω–∞ Firebase)
WEBAPP_URL=https://your-project.web.app

# –Ü–Ω—Ç–µ—Ä–≤–∞–ª –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –æ–Ω–æ–≤–ª–µ–Ω—å (—Ö–≤–∏–ª–∏–Ω–∏)
CHECK_INTERVAL=30
```

### 3. –î–µ–ø–ª–æ–π Web App –Ω–∞ Firebase

```bash
cd webapp

# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Firebase CLI (—è–∫—â–æ —â–µ –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ)
npm install -g firebase-tools

# –£–≤—ñ–π–¥—ñ—Ç—å –≤ –∞–∫–∞—É–Ω—Ç Firebase
firebase login

# –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π –ø—Ä–æ–µ–∫—Ç –∞–±–æ –≤–∏–±–µ—Ä—ñ—Ç—å —ñ—Å–Ω—É—é—á–∏–π
firebase projects:list
# –í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ .firebaserc –∑ –≤–∞—à–∏–º project ID

# –î–µ–ø–ª–æ–π
firebase deploy --only hosting
```

–ü—ñ—Å–ª—è –¥–µ–ø–ª–æ—é –≤–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ URL –≤–∞—à–æ–≥–æ Web App (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `https://your-project.web.app`).

### 4. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–æ—Ç–∞ –≤ BotFather

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ [@BotFather](https://t.me/BotFather)
2. –í–∏–±–µ—Ä—ñ—Ç—å –≤–∞—à–æ–≥–æ –±–æ—Ç–∞
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Bot Settings" ‚Üí "Menu Button"
4. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å URL –≤–∞—à–æ–≥–æ Web App

### 5. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```bash
cd bot
source venv/bin/activate
python main.py
```

## –ö–æ–º–∞–Ω–¥–∏ –±–æ—Ç–∞

- `/start` - –ü–æ—á–∞—Ç–∏ —Ä–æ–±–æ—Ç—É –∑ –±–æ—Ç–æ–º
- `/schedule` - –ü–æ–∫–∞–∑–∞—Ç–∏ –≥—Ä–∞—Ñ—ñ–∫ –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–æ—ó –∞–¥—Ä–µ—Å–∏
- `/notifications` - –£–≤—ñ–º–∫–Ω—É—Ç–∏/–≤–∏–º–∫–Ω—É—Ç–∏ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è
- `/help` - –î–æ–≤—ñ–¥–∫–∞

## API –õ—å–≤—ñ–≤–æ–±–ª–µ–Ω–µ—Ä–≥–æ

–ë–æ—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –æ—Ñ—ñ—Ü—ñ–π–Ω—ñ API:
- `https://power-api.loe.lviv.ua/api/` - –¥–∞–Ω—ñ –ø—Ä–æ –∞–¥—Ä–µ—Å–∏ —Ç–∞ —á–µ—Ä–≥–∏
- `https://api.loe.lviv.ua/api/` - –≥—Ä–∞—Ñ—ñ–∫–∏ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å

## –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

### Backend (Telegram Bot)
- Python 3.10+
- python-telegram-bot 21.5
- aiohttp - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ HTTP –∑–∞–ø–∏—Ç–∏
- aiosqlite - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞ —Ä–æ–±–æ—Ç–∞ –∑ SQLite
- APScheduler - –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è –∑–∞–≤–¥–∞–Ω—å

### Frontend (Web App)
- HTML5 / CSS3 / JavaScript
- Telegram Web App SDK
- Firebase Hosting

## –†–æ–∑—Ä–æ–±–∫–∞

### –õ–æ–∫–∞–ª—å–Ω–∏–π –∑–∞–ø—É—Å–∫ Web App

–î–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è Web App –ª–æ–∫–∞–ª—å–Ω–æ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –±—É–¥—å-—è–∫–∏–π –ø—Ä–æ—Å—Ç–∏–π HTTP —Å–µ—Ä–≤–µ—Ä:

```bash
cd webapp/public
python -m http.server 8080
```

–ü–æ—Ç—ñ–º –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ ngrok –∞–±–æ –ø–æ–¥—ñ–±–Ω–∏–π —Å–µ—Ä–≤—ñ—Å –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è HTTPS URL.

### –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –≤ —Ä–µ–∂–∏–º—ñ —Ä–æ–∑—Ä–æ–±–∫–∏

```bash
cd bot
source venv/bin/activate
python main.py
```

## –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT License

## –ê–≤—Ç–æ—Ä

–°—Ç–≤–æ—Ä–µ–Ω–æ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –õ—å–≤—ñ–≤–æ–±–ª–µ–Ω–µ—Ä–≥–æ üá∫üá¶