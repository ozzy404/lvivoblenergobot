<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#1e1e2e">
    <title>–õ—å–≤—ñ–≤–æ–±–ª–µ–Ω–µ—Ä–≥–æ - –ì—Ä–∞—Ñ—ñ–∫–∏ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="styles_new.css">
</head>
<body>
    <div class="app">
        <!-- Saved Address View with Power Status -->
        <div id="dashboard-view" class="view">
            <div class="header-compact">
                <h1>‚ö° –õ—å–≤—ñ–≤–æ–±–ª–µ–Ω–µ—Ä–≥–æ</h1>
            </div>
            
            <div class="container">
                <!-- Power Status Card -->
                <div class="power-status-card" id="power-status-card">
                    <div class="status-indicator" id="status-indicator">
                        <div class="status-icon" id="status-icon">üîå</div>
                        <div class="status-text">
                            <h2 id="status-title">–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É...</h2>
                            <p id="status-subtitle">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö</p>
                        </div>
                    </div>
                    
                    <!-- Timer/Countdown -->
                    <div class="countdown-section" id="countdown-section" style="display: none;">
                        <div class="countdown-label" id="countdown-label">–î–æ –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è:</div>
                        <div class="countdown-timer" id="countdown-timer">
                            <div class="time-unit">
                                <span class="time-value" id="hours">00</span>
                                <span class="time-label">–≥–æ–¥</span>
                            </div>
                            <div class="time-separator">:</div>
                            <div class="time-unit">
                                <span class="time-value" id="minutes">00</span>
                                <span class="time-label">—Ö–≤</span>
                            </div>
                            <div class="time-separator">:</div>
                            <div class="time-unit">
                                <span class="time-value" id="seconds">00</span>
                                <span class="time-label">—Å–µ–∫</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Address Info Card -->
                <div class="info-card">
                    <div class="info-row">
                        <span class="info-label">üìç –ê–¥—Ä–µ—Å–∞:</span>
                        <span class="info-value" id="saved-address-text">-</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">‚ö° –ì—Ä—É–ø–∞ –ì–ü–í:</span>
                        <span class="group-badge" id="saved-group-text">-</span>
                    </div>
                    <button class="secondary-btn" id="change-address-btn">
                        ‚úèÔ∏è –ó–º—ñ–Ω–∏—Ç–∏ –∞–¥—Ä–µ—Å—É
                    </button>
                </div>
                
                <!-- Schedule Preview -->
                <div class="schedule-card">
                    <h3>üìä –ì—Ä–∞—Ñ—ñ–∫ –Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ</h3>
                    <div class="schedule-preview" id="schedule-preview">
                        <img id="schedule-image" class="schedule-image" alt="–ì—Ä–∞—Ñ—ñ–∫ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å">
                        <div class="schedule-loading" id="schedule-loading">
                            <div class="spinner"></div>
                            <p>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</p>
                        </div>
                        <div class="schedule-error" id="schedule-error" style="display: none;">
                            <p>‚ùå –ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è</p>
                            <button class="retry-btn" id="retry-schedule-btn">üîÑ –ü–æ–≤—Ç–æ—Ä–∏—Ç–∏</button>
                        </div>
                    </div>
                </div>
                
                <!-- Quick Actions -->
                <div class="quick-actions">
                    <button class="action-btn" id="view-full-schedule-btn">
                        üìÖ –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ø–æ–≤–Ω–∏–π –≥—Ä–∞—Ñ—ñ–∫
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Address Selection View -->
        <div id="select-view" class="view" style="display: none;">
            <div class="header">
                <h1>‚ö° –õ—å–≤—ñ–≤–æ–±–ª–µ–Ω–µ—Ä–≥–æ</h1>
                <p>–û–±–µ—Ä—ñ—Ç—å –≤–∞—à—É –∞–¥—Ä–µ—Å—É</p>
            </div>
            
            <div class="container">
                <div class="step" id="step-city">
                    <div class="form-group">
                        <label for="city-search">üèôÔ∏è –ù–∞—Å–µ–ª–µ–Ω–∏–π –ø—É–Ω–∫—Ç</label>
                        <div class="search-wrapper">
                            <div class="search-container">
                                <input type="text" id="city-search" placeholder="–í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É (–Ω–∞–ø—Ä. –õ—å–≤—ñ–≤)..." autocomplete="off">
                                <button class="clear-btn" id="city-clear">‚úï</button>
                            </div>
                            <div class="dropdown" id="city-dropdown"></div>
                        </div>
                        <div class="selected-value" id="city-selected"></div>
                    </div>
                </div>
                
                <div class="step disabled" id="step-street">
                    <div class="form-group">
                        <label for="street-search">üõ£Ô∏è –í—É–ª–∏—Ü—è</label>
                        <div class="search-wrapper">
                            <div class="search-container">
                                <input type="text" id="street-search" placeholder="–í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É –≤—É–ª–∏—Ü—ñ..." autocomplete="off" disabled>
                                <button class="clear-btn" id="street-clear">‚úï</button>
                            </div>
                            <div class="dropdown" id="street-dropdown"></div>
                        </div>
                        <div class="selected-value" id="street-selected"></div>
                    </div>
                </div>
                
                <div class="step disabled" id="step-building">
                    <div class="form-group">
                        <label for="building-search">üè† –ù–æ–º–µ—Ä –±—É–¥–∏–Ω–∫—É</label>
                        <div class="search-wrapper">
                            <div class="search-container">
                                <input type="text" id="building-search" placeholder="–í–≤–µ–¥—ñ—Ç—å –Ω–æ–º–µ—Ä..." autocomplete="off" disabled>
                                <button class="clear-btn" id="building-clear">‚úï</button>
                            </div>
                            <div class="dropdown" id="building-dropdown"></div>
                        </div>
                        <div class="selected-value" id="building-selected"></div>
                    </div>
                </div>
                
                <div class="result" id="result" style="display: none;">
                    <div class="result-card">
                        <h3>üìç –û–±—Ä–∞–Ω–∞ –∞–¥—Ä–µ—Å–∞:</h3>
                        <p id="result-address"></p>
                        <div class="group-info">
                            <span>‚ö° –ì—Ä—É–ø–∞ –ì–ü–í:</span>
                            <span class="group-badge" id="result-group"></span>
                        </div>
                    </div>
                </div>
                
                <div id="loading" class="loading" style="display: none;">
                    <div class="spinner"></div>
                    <p>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</p>
                </div>
                
                <div id="error" class="error-message" style="display: none;">
                    <p id="error-message"></p>
                </div>
            </div>
            
            <div class="footer" id="footer-select">
                <button class="primary-btn" id="submit-btn" disabled>
                    üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ –∞–¥—Ä–µ—Å—É
                </button>
            </div>
        </div>
    </div>
    
    <script src="app_new.js"></script>
</body>
</html>
